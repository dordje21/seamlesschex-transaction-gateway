<!DOCTYPE html>
<html>
<head>
    <title>{{title}}</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
     <script src="https://seamlesschex.transactiongateway.com/token/Collect.js" data-tokenization-key="{{token}}"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                CollectJS.configure({
                    'paymentSelector' : '#customPayButton',
                     "fields": {
                        "ccnumber": {
                            "selector": "#demoCcnumber",
                            "title": "Card Number",
                            "placeholder": "0000 0000 0000 0000"
                        },
                        "ccexp": {
                            "selector": "#demoCcexp",
                            "title": "Card Expiration",
                            "placeholder": "00 / 00"
                        },
                        "cvv": {
                            "display": "show",
                            "selector": "#demoCvv",
                            "title": "CVV Code",
                            "placeholder": "***"
                        },
                        "googlePay": {
                            "selector": ".googlePayButton",
                            "shippingAddressRequired": true,
                            "shippingAddressParameters": {
                                "phoneNumberRequired": true,
                                "allowedCountryCodes": ['US', 'CA']
                            },
                            "billingAddressRequired": true,
                            "billingAddressParameters": {
                                "phoneNumberRequired": true,
                                "format": "MIN"
                            },
                            'emailRequired': true,
                            'buttonType': 'buy',
                            'buttonColor': 'white',
                            'buttonLocale': 'en'
                        },
                        'applePay' : {
                            'selector' : '.applePayButton',
                            'shippingMethods': [
                                {
                                    'label': 'Free Standard Shipping',
                                    'amount': '0.00',
                                    'detail': 'Arrives in 5-7 days',
                                    'identifier': 'standardShipping'
                                },
                                {
                                    'label': 'Express Shipping',
                                    'amount': '10.00',
                                    'detail': 'Arrives in 2-3 days',
                                    'identifier': 'expressShipping'
                                }
                            ],
                            'shippingType': 'delivery',
                            'requiredBillingContactFields': [
                                'postalAddress',
                                'name'
                            ],
                            'requiredShippingContactFields': [
                                'postalAddress',
                                'name'
                            ],
                            'contactFields': [
                                'phone',
                                'email'
                            ],
                            'contactFieldsMappedTo': 'shipping',
                            'lineItems': [
                                {
                                    'label': 'Foobar',
                                    'amount': '3.00'
                                },
                                {
                                    'label': 'Arbitrary Line Item #2',
                                    'amount': '1.00'
                                }
                            ],
                            'totalLabel': 'foobar',
                            'type': 'buy',
                            'style': {
                                'button-style': 'white-outline',
                                'height': '50px',
                                'border-radius': '0'
                            }
                        }
                    },
                    "price": "1.00",
                    "currency":"USD",
                    "country": "US",
                    "variant": "inline",
                    "callback" : function(response) {
                        alert(response.token);
                        var input = document.createElement("input");
                        input.type = "hidden";
                        input.name = "payment_token";
                        input.value = response.token;
                        var form = document.getElementsByTagName("form")[0];
                        form.appendChild(input);
                        form.submit();
                    }
                });
            });
        </script>
</head>
<body>
    {{{body}}}
</body>
</html>
